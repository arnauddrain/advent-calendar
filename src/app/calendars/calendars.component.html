<app-top-bar></app-top-bar>

<ng-container *ngIf="!user"><app-spinner></app-spinner></ng-container>

<ng-container *ngIf="user" class="">
  <h1 class="text-4xl mb-4">Bonjour !</h1>
  <h2 class="text-2xl mb-3">Mes calendriers :</h2>
  <div class="mb-6 flex flex-wrap">
    <a
      *ngFor="let calendar of calendars | async"
      [routerLink]="['/edit', calendar.key]"
      class="rounded mr-2 mb-2 flex p-8 border-2 border-solid border-gray-100 hover:bg-gray-100 hover:text-black bg-white bg-opacity-30"
    >
      {{ calendar.name }}
    </a>
    <a
      class="
        rounded
        mr-2
        mb-2
        flex
        p-8
        border-2 border-dashed
        cursor-pointer
        border-gray-100
        hover:bg-gray-100 hover:text-black
        bg-white bg-opacity-30
      "
      (click)="addCalendar()"
    >
      + Ajouter un calendrier
    </a>
  </div>
  <ng-container *ngIf="loading"><app-spinner></app-spinner></ng-container>
  <div class="mb-1">
    <app-button theme="danger" (click)="logout()"><mat-icon class="mr-1">logout</mat-icon>DÃ©connexion</app-button>
  </div>
</ng-container>
